"use strict";(self.webpackChunkalasta_ui=self.webpackChunkalasta_ui||[]).push([[143],{76:(L,Z,i)=>{i.d(Z,{S:()=>p});var t=i(1571),e=i(6895);function h(_,y){if(1&_&&(t.TgZ(0,"p",6),t._uU(1),t.qZA()),2&_){const E=t.oxw();t.xp6(1),t.Oqu(E.context)}}function u(_,y){1&_&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"This action cannot be undone."),t.qZA()())}let p=(()=>{class _{constructor(){this.modalHeader="Delete?",this.context="",this.confirmationPrompt="Are you sure you want to delete?",this.canUndo=!1,this.rejectButtonText="Cancel",this.confirmButtonIconClasses="fa fa-trash-alt",this.confirmButtonText="Delete",this.onConfirm=new t.vpe,this.onReject=new t.vpe}reject(){this.onReject.emit()}confirm(){this.onConfirm.emit()}static#e=this.\u0275fac=function(f){return new(f||_)};static#t=this.\u0275cmp=t.Xpm({type:_,selectors:[["app-shared-confirmation"]],inputs:{modalHeader:"modalHeader",context:"context",confirmationPrompt:"confirmationPrompt",canUndo:"canUndo",rejectButtonText:"rejectButtonText",confirmButtonIconClasses:"confirmButtonIconClasses",confirmButtonText:"confirmButtonText"},outputs:{onConfirm:"onConfirm",onReject:"onReject"},decls:20,vars:7,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["class","my-3",4,"ngIf"],[1,"my-3"],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-danger",3,"click"],["aria-hidden","true",3,"ngClass"],[1,"btn","btn-primary","ml-1",3,"click"],["aria-hidden","true",1,"fa","fa-times"]],template:function(f,g){1&f&&(t.TgZ(0,"div",0)(1,"h4",1)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"button",2),t.NdJ("click",function(){return g.reject()}),t.TgZ(5,"span",3),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",4),t.YNc(8,h,2,1,"p",5),t.TgZ(9,"p",6),t._uU(10),t.qZA(),t.YNc(11,u,3,0,"p",7),t.qZA(),t.TgZ(12,"div",8)(13,"div",9)(14,"button",10),t.NdJ("click",function(){return g.confirm()}),t._UZ(15,"i",11),t._uU(16),t.qZA(),t.TgZ(17,"button",12),t.NdJ("click",function(){return g.reject()}),t._UZ(18,"i",13),t._uU(19),t.qZA()()()),2&f&&(t.xp6(3),t.Oqu(g.modalHeader),t.xp6(5),t.Q6J("ngIf",g.context),t.xp6(2),t.Oqu(g.confirmationPrompt),t.xp6(1),t.Q6J("ngIf",!g.canUndo),t.xp6(4),t.Q6J("ngClass",g.confirmButtonIconClasses),t.xp6(1),t.hij(" ",g.confirmButtonText," "),t.xp6(3),t.hij(" ",g.rejectButtonText," "))},dependencies:[e.mk,e.O5],encapsulation:2})}return _})()},1892:(L,Z,i)=>{i.d(Z,{C:()=>h});var t=i(6895),e=i(1571);let h=(()=>{class u{static#e=this.\u0275fac=function(y){return new(y||u)};static#t=this.\u0275mod=e.oAB({type:u});static#n=this.\u0275inj=e.cJS({imports:[t.ez]})}return u})()},6433:(L,Z,i)=>{i.d(Z,{S:()=>se});var t=i(5861),e=i(1571),h=i(433),u=i(727),p=i(9147),_=i(625),y=i(2733),E=i(3113),f=i(171),g=i(8283),A=i(8372),R=i(9649),D=i(2714),N=i(420),k=i(805);const w=["searchInput"];function J(s,v){1&s&&(e.TgZ(0,"tr"),e._UZ(1,"th",11),e.TgZ(2,"th"),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Position"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Property"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Nationality"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Email"),e.qZA()())}function P(s,v){if(1&s&&(e.TgZ(0,"tr",12)(1,"td"),e._UZ(2,"p-tableRadioButton"),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&s){const n=v.$implicit;e.Q6J("pSelectableRow",n),e.xp6(4),e.AsE("",n.talentName.given," ",n.talentName.last,""),e.xp6(2),e.Oqu(n.position||""),e.xp6(2),e.Oqu(n.property||""),e.xp6(2),e.Oqu(n.nationality),e.xp6(2),e.Oqu(n.accountEmail)}}let V=(()=>{class s{constructor(n,c){this.talentsManagementApi=n,this.modalsController=c,this.searchInputControl=new h.p4,this.subscriptions=new u.w0,this.total=0,this.page=0,this.step=10,this.rows=[],this.loadingIndicator=!1,this.onSelectTalent=new e.vpe,this.subscriptions.add(this.searchInputControl.valueChanges.pipe((0,A.b)(350)).subscribe(l=>{this.searchInputControl.valid&&this.fetchTalentsWithSearch()}))}ngAfterViewInit(){this.input?.nativeElement.focus()}setPage(n){this.step=n.rows,this.page=Math.floor(n.first/n.rows),this.fetchTalentsWithSearch()}fetchTalentsWithSearch(){this.talentsManagementApi.findTalentsFilterSearch(this.step,this.page+1,this.searchInputControl.value).then(n=>{this.rows=n.talents,this.total=n.total})}static#e=this.\u0275fac=function(c){return new(c||s)(e.Y36(R.C),e.Y36(y.l))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["keiro-talents-table"]],viewQuery:function(c,l){if(1&c&&e.Gf(w,5),2&c){let M;e.iGM(M=e.CRH())&&(l.input=M.first)}},outputs:{onSelectTalent:"onSelectTalent"},decls:15,vars:7,consts:[[1,"form-row","justify-content-end"],[1,"col","mb-1"],[1,"has-search"],[1,"fa","fa-search","has-search-icon"],["type","text","placeholder","Search by name, email, or Keiro ID",1,"form-control",3,"formControl"],["searchInput",""],["selectionMode","single","styleClass","p-datatable-sm","responsiveLayout","scroll",3,"value","lazy","loading","paginator","rows","totalRecords","onLazyLoad","selectionChange"],["pTemplate","header"],["pTemplate","body"],["routerLink","/app/talent/create",1,"btn","btn-sm","btn-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-user-plus"],[2,"width","3rem"],[3,"pSelectableRow"]],template:function(c,l){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"span",3)(4,"input",4,5),e.qZA()()(),e.TgZ(6,"p-table",6),e.NdJ("onLazyLoad",function(O){return l.setPage(O)})("selectionChange",function(O){return l.onSelectTalent.emit(O)}),e.YNc(7,J,12,0,"ng-template",7),e.YNc(8,P,13,7,"ng-template",8),e.qZA(),e.TgZ(9,"p"),e._uU(10," Is the Talent you're looking for not in the list?"),e._UZ(11,"br"),e.TgZ(12,"a",9),e.NdJ("click",function(){return l.modalsController.closeAllModals()}),e._UZ(13,"i",10),e._uU(14," Click here to create a new Talent profile "),e.qZA()()),2&c&&(e.xp6(4),e.Q6J("formControl",l.searchInputControl),e.xp6(2),e.Q6J("value",l.rows)("lazy",!0)("loading",l.loadingIndicator)("paginator",!0)("rows",l.step)("totalRecords",l.total))},dependencies:[D.rH,h.Fj,h.JJ,h.oH,N.iA,k.jx,N.Ei,N.GE],styles:[".has-search[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%] > .has-search-icon[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}"]})}return s})();var B=i(6895),Y=i(2210),H=i(3035),q=i(5593),Q=i(1740),j=i(3054),K=i(1507),W=i(2962);function z(s,v){1&s&&(e.TgZ(0,"span"),e._uU(1,"Assign talent to job"),e.qZA())}function d(s,v){1&s&&e._uU(0,"Edit employment information")}function b(s,v){if(1&s){const n=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(n);const l=e.oxw(2),M=e.MAs(35);return e.KtG(l.modalsControllerService.openModal(M,{class:"modal-lg"}))}),e._uU(1," Choose Talent "),e.qZA()}}function o(s,v){if(1&s){const n=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(n);const l=e.oxw(3);return e.KtG(l.clearTalentFromForm())}),e.qZA()}}function C(s,v){if(1&s&&(e.TgZ(0,"div",28),e._UZ(1,"input",29),e.YNc(2,o,1,0,"button",30),e.qZA()),2&s){const n=e.oxw(2);e.xp6(1),e.Q6J("disabled",!0)("value",(null==n.currentlySelectedTalent||null==n.currentlySelectedTalent.talentName?null:n.currentlySelectedTalent.talentName.given)+" "+(null==n.currentlySelectedTalent||null==n.currentlySelectedTalent.talentName?null:n.currentlySelectedTalent.talentName.last)),e.xp6(1),e.Q6J("ngIf",n.addingEmployment)}}const m=function(s){return["/app/talent/view/",s]};function I(s,v){if(1&s){const n=e.EpF();e.TgZ(0,"div",32),e._uU(1," This talent has history, "),e.TgZ(2,"a",33),e.NdJ("click",function(){e.CHM(n);const l=e.oxw(2);return e.KtG(l.modalsControllerService.closeUpperModal())}),e._uU(3,"click here to view profile"),e.qZA()()}if(2&s){const n=e.oxw(2);e.xp6(2),e.Q6J("routerLink",e.VKq(1,m,n.currentlySelectedTalent.talentId))}}function F(s,v){1&s&&(e.TgZ(0,"div",34),e._uU(1," This job coincides with the last previously known work information for this talent. "),e._UZ(2,"br"),e._uU(3,"We have autocompleted the date for you. "),e.qZA())}const $=function(s){return["/","app","talent","view",s]};function X(s,v){if(1&s&&(e.TgZ(0,"div",32),e._uU(1," This job "),e.TgZ(2,"strong"),e._uU(3,"does not"),e.qZA(),e._uU(4," coincide with the last previously known work information for this talent. "),e._UZ(5,"br"),e._uU(6,"Please validate if this information is correct before proceeding. "),e.TgZ(7,"a",35),e._UZ(8,"i",36),e._uU(9,"View talent in new tab "),e.qZA()()),2&s){const n=e.oxw(2);e.xp6(7),e.Q6J("routerLink",e.VKq(1,$,null==n.currentlySelectedTalent?null:n.currentlySelectedTalent.talentId))}}function ee(s,v){if(1&s&&(e.TgZ(0,"div",19)(1,"h6",7),e._uU(2,"End Date"),e.qZA(),e.TgZ(3,"div",20),e._UZ(4,"p-calendar",37),e.qZA()()),2&s){const n=e.oxw(2);e.xp6(4),e.Q6J("showIcon",!0)("minDate",(null==n.existing?null:n.existing.from)||n.today)("maxDate",n.today)}}function te(s,v){if(1&s&&(e.TgZ(0,"div",40)(1,"span"),e._uU(2),e.qZA()()),2&s){const n=v.$implicit;e.xp6(2),e.Oqu(n.label)}}function ne(s,v){if(1&s&&(e.TgZ(0,"div",19)(1,"h6",7),e._uU(2,"End Reason"),e.qZA(),e.TgZ(3,"div",20)(4,"p-dropdown",38),e.YNc(5,te,3,1,"ng-template",39),e.qZA()()()),2&s){const n=e.oxw(2);e.xp6(4),e.Q6J("options",n.endStatusOptions)("autoDisplayFirst",!1)("group",!0)}}function ie(s,v){1&s&&(e.TgZ(0,"div",19)(1,"h6",7),e._uU(2,"Notes"),e.qZA(),e.TgZ(3,"div",20),e._UZ(4,"textarea",41),e.qZA()())}function oe(s,v){if(1&s&&(e.TgZ(0,"form",18)(1,"div",19)(2,"h6",7),e._uU(3,"Talent"),e.qZA(),e.TgZ(4,"div",20),e.YNc(5,b,2,0,"button",21),e.YNc(6,C,3,3,"div",22),e.qZA(),e.YNc(7,I,4,3,"div",23),e.qZA(),e.TgZ(8,"div",19)(9,"h6",7),e._uU(10,"Start Date"),e.qZA(),e.TgZ(11,"div",20),e._UZ(12,"p-calendar",24),e.qZA(),e.YNc(13,F,4,0,"div",25),e.YNc(14,X,10,3,"div",23),e.qZA(),e.YNc(15,ee,5,3,"div",26),e.YNc(16,ne,6,3,"div",26),e.YNc(17,ie,5,0,"div",26),e.qZA()),2&s){const n=e.oxw();e.Q6J("formGroup",n.createEmploymentForm),e.xp6(5),e.Q6J("ngIf",!n.talentIsSelected),e.xp6(1),e.Q6J("ngIf",n.talentIsSelected),e.xp6(1),e.Q6J("ngIf",n.currentlySelectedTalent&&n.warnAboutSelectedTalent),e.xp6(5),e.Q6J("showIcon",!0)("maxDate",n.today),e.xp6(1),e.Q6J("ngIf",n.selectedTalentOnTrack),e.xp6(1),e.Q6J("ngIf",n.selectedTalentNotOnTrack),e.xp6(1),e.Q6J("ngIf",n.editingEndedEmployment),e.xp6(1),e.Q6J("ngIf",n.editingEndedEmployment),e.xp6(1),e.Q6J("ngIf",n.editingEndedEmployment)}}function ae(s,v){1&s&&e._UZ(0,"app-shared-icon-tooltip",46)}function a(s,v){if(1&s){const n=e.EpF();e.TgZ(0,"keiro-account-form",47),e.NdJ("statusChanges",function(l){e.CHM(n);const M=e.oxw(2);return e.KtG(M.formStatusChange(l))})("valueChanges",function(l){e.CHM(n);const M=e.oxw(2);return e.KtG(M.formValueChange(l))}),e.qZA()}if(2&s){const n=e.oxw(2);e.Q6J("initialValue",null==n.selectedTalent?null:n.selectedTalent.account)("canCreateRoles",n.canCreateRoles)}}function T(s,v){if(1&s&&(e.TgZ(0,"div")(1,"div",42)(2,"div",48)(3,"h6"),e._uU(4,"Login email address"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()(),e.TgZ(7,"div",48)(8,"h6"),e._uU(9,"Keiro access level"),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.ALo(12,"roleName"),e.qZA()()()()),2&s){const n=e.oxw(2);e.xp6(6),e.hij(" ",null==n.selectedTalent||null==n.selectedTalent.account?null:n.selectedTalent.account.email," "),e.xp6(5),e.Oqu(e.lcZ(12,2,null==n.selectedTalent||null==n.selectedTalent.account?null:n.selectedTalent.account.role))}}function r(s,v){if(1&s&&(e.TgZ(0,"div"),e._UZ(1,"br"),e.TgZ(2,"div",42)(3,"h5",43),e._uU(4,"Account info"),e.qZA(),e.YNc(5,ae,1,0,"app-shared-icon-tooltip",44),e.qZA(),e.TgZ(6,"div"),e.YNc(7,a,1,2,"keiro-account-form",45),e.YNc(8,T,13,4,"div",10),e.qZA()()),2&s){const n=e.oxw();e.xp6(5),e.Q6J("ngIf",n.canEditAccount),e.xp6(2),e.Q6J("ngIf",n.canEditAccount),e.xp6(1),e.Q6J("ngIf",!n.canEditAccount)}}function S(s,v){1&s&&(e.TgZ(0,"span"),e._UZ(1,"i",49),e._uU(2," Assign talent "),e.qZA())}function x(s,v){1&s&&(e._UZ(0,"i",50),e._uU(1," Edit employment "))}function G(s,v){if(1&s){const n=e.EpF();e.TgZ(0,"div",0)(1,"h4",1)(2,"span"),e._uU(3,"Talent Search"),e.qZA()(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.modalsControllerService.closeUpperModal())}),e.TgZ(5,"span",5),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"div",6)(8,"keiro-talents-table",51),e.NdJ("onSelectTalent",function(l){e.CHM(n);const M=e.oxw();return e.KtG(M.selectTalent(l))}),e.qZA()(),e.TgZ(9,"div",11)(10,"div",12)(11,"button",52),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return l.clearTalentFromForm(),e.KtG(l.modalsControllerService.closeUpperModal())}),e._UZ(12,"i",14),e._uU(13," Cancel "),e.qZA(),e.TgZ(14,"button",53),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.modalsControllerService.closeUpperModal())}),e._UZ(15,"i",54),e._uU(16," Select "),e.qZA()()()}}let se=(()=>{class s{constructor(n,c,l,M,O,le){this.fb=n,this.modalsControllerService=c,this.employmentServiceApi=l,this.roleNamePipe=M,this.authStateService=O,this.accountServiceApi=le,this.addingEmployment=!0,this.editingEndedEmployment=!1,this.selectedTalentOnTrack=!1,this.selectedTalentNotOnTrack=!1,this.onSumbit=new e.vpe,this.onCloseModal=new e.vpe,this.talentHasAccount=!1,this.canEditAccount=!1,this.formValid=!1,this.onlyRoleChange=!1,this.processing=!1,this.warnAboutSelectedTalent=!1,this.endStatusOptions=[{label:"Change of job",items:[p.Vg.CHANGE_PROMOTION,p.Vg.CHANGE_LATERAL_MOVEMENT,p.Vg.CHANGE_TRANSFER_SAME_POSITION,p.Vg.CHANGE_TRANSFER_PROMOTION].map(U=>({label:p.ub.statusNameMap.get(U),value:U}))},{label:"Voluntary dismissals",items:[p.Vg.DISMISSAL_VOLUNTARY_ABSENTEEISM,p.Vg.DISMISSAL_VOLUNTARY_ABANDONMENT,p.Vg.DISMISSAL_VOLUNTARY_RETIREMENT,p.Vg.DISMISSAL_VOLUNTARY_BETTER_OFFER,p.Vg.DISMISSAL_VOLUNTARY_PERSONAL].map(U=>({label:p.ub.statusNameMap.get(U),value:U}))},{label:"Forced dismissals",items:[p.Vg.DISMISSAL_FORCED_END_OF_CONTRACT,p.Vg.DISMISSAL_FORCED_DISEASE,p.Vg.DISMISSAL_FORCED_DEATH,p.Vg.DISMISSAL_FORCED_LOW_PERFORMANCE,p.Vg.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS,p.Vg.DISMISSAL_FORCED_OTHERS].map(U=>({label:p.ub.statusNameMap.get(U),value:U}))}],this.today=new Date,this.subscriptions=new u.w0,this.subscriptions.add(this.authStateService.authState.subscribe(U=>{this.currentUserIdentity=U.identity}))}ngOnInit(){if(void 0!==this.existing){this.currentlySelectedTalent={talentName:this.existing?.talent.name},this.addingEmployment=!1,this.addingEmployment=!1;let n={talent:[this.existing?.talent._id||null,h.kI.required],startDate:[this.existing?.from,h.kI.required]};this.existing?.until&&(this.editingEndedEmployment=!0,Object.assign(n,{endDate:[this.existing?.until,h.kI.required]},{endReason:[this.existing?.status,h.kI.required]},{notes:[this.existing?.notes]})),this.createEmploymentForm=this.fb.group(n)}else this.createEmploymentForm=this.fb.group({talent:[null,h.kI.required],startDate:[null,h.kI.required]})}ngOnDestroy(){this.subscriptions.unsubscribe()}get talentIsSelected(){return this.createEmploymentForm?.get("talent")?.value||!1}selectTalent(n){var c=this;return(0,t.Z)(function*(){if(c.warnAboutSelectedTalent=!1,c.currentlySelectedTalent=n,c.selectedTalentOnTrack=!1,c.selectedTalentNotOnTrack=!1,n){if(c.createEmploymentForm?.get("talent")?.setValue(n.talentId),n.positionId==c.forJob?.position._id&&n.propertyId==c.forJob?.property._id&&n.legacyStartDate?(c.createEmploymentForm?.get("startDate")?.setValue(new Date(n.legacyStartDate)),c.createEmploymentForm?.get("startDate")?.markAsDirty(),c.selectedTalentOnTrack=!0):c.selectedTalentNotOnTrack=!0,c.employmentServiceApi.getEmploymentsForTalent(n.talentId).then(l=>{c.warnAboutSelectedTalent=l.some(M=>p.ub.forcedDismissalReasons.includes(M.status))}),n.accountId){let l=(yield c.accountServiceApi.getAccount(n.accountId)).account;c.selectedTalent={_id:n.talentId,account:l}}c.manageAccountActions()}else c.createEmploymentForm?.get("talent")?.setValue(null)})()}clearTalentFromForm(){this.warnAboutSelectedTalent=!1,this.createEmploymentForm?.get("talent")?.setValue(null),this.selectedTalentOnTrack=!1,this.selectedTalentNotOnTrack=!1,this.talentHasAccount=!1,this.selectedTalent=void 0,this.currentlySelectedTalent?.positionId==this.forJob?.position._id&&this.currentlySelectedTalent?.propertyId==this.forJob?.property._id&&(this.createEmploymentForm?.get("startDate")?.setValue(null),this.createEmploymentForm?.get("startDate")?.markAsPristine()),this.currentlySelectedTalent=void 0}getFormValue(){let n={employment:{talentId:this.createEmploymentForm?.value.talent,startDate:this.createEmploymentForm?.value.startDate,...this.createEmploymentForm?.value.endDate?{endDate:this.createEmploymentForm?.value.endDate}:{},...this.createEmploymentForm?.value.endReason?{endReason:this.createEmploymentForm?.value.endReason}:{},...this.createEmploymentForm?.value.notes?{notes:this.createEmploymentForm?.value.notes}:{notes:null}}};if(this.talentHasAccount){let c={};this.formValue&&(this.selectedTalent?.account?.email!==this.formValue.email&&(c.email=this.formValue.email),this.selectedTalent?.account?.role!==this.formValue.role&&(c.role=this.formValue.role),c.changeAcc=!(!c?.email&&!c?.role)),n.account=c,n.accountId=this.selectedTalent?.account?._id}return n}formStatusChange(n){this.formValid="VALID"===n}formValueChange(n){this.onlyRoleChange=this.selectedTalent?.account?.email===n.email&&this.selectedTalent?.account?.role!=n.role,this.formValue=n}getRoleOptions(){return Object.values(_.u).filter(n=>n!=_.u.SUPER_ADMIN).map(n=>({name:this.roleNamePipe.transform(n),value:n}))}manageAccountActions(){switch(this.talentHasAccount=!!this.selectedTalent?.account,this.currentUserIdentity?.role){case _.u.SUPER_ADMIN:case _.u.ADMIN:this.canCreateRoles=[_.u.ADMIN,_.u.MANAGER,_.u.EMPLOYEE],this.canEditAccount=!0;break;case _.u.MANAGER:this.canEditAccount=!0,this.selectedTalent?.account&&(this.canCreateRoles=[this.selectedTalent.account.role])}this.currentUserIdentity?.talent?._id===this.selectedTalent?._id&&(this.canEditAccount=!1)}static#e=this.\u0275fac=function(c){return new(c||s)(e.Y36(h.QS),e.Y36(y.l),e.Y36(p.Ib),e.Y36(E.p),e.Y36(f.V),e.Y36(g.B))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["team-add-edit-employment-modal"]],inputs:{existing:"existing",forJob:"forJob"},outputs:{onSumbit:"onSumbit",onCloseModal:"onCloseModal"},decls:36,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf","ngIfElse"],["editEmploymentModalTitle",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"mb-0"],[1,"mb-2"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[1,"btn","btn-secondary","ml-1",3,"disabled","click"],["editEmploymentButtonContent",""],["talentSelectorModal",""],[3,"formGroup"],[1,"my-2"],[1,"p-fluid"],["pButton","",3,"click",4,"ngIf"],["class","p-inputgroup",4,"ngIf"],["class","mt-1 alert alert-warning","role","alert",4,"ngIf"],["formControlName","startDate","dateFormat","dd M yy","icon","fas fa-calendar-alt","appendTo","body",3,"showIcon","maxDate"],["class","mt-1 alert alert-info","role","alert",4,"ngIf"],["class","my-2",4,"ngIf"],["pButton","",3,"click"],[1,"p-inputgroup"],["type","text","pInputText","",3,"disabled","value"],["type","button","pButton","","icon","fa fa-times","label","Clear","class","p-button-danger",3,"click",4,"ngIf"],["type","button","pButton","","icon","fa fa-times","label","Clear",1,"p-button-danger",3,"click"],["role","alert",1,"mt-1","alert","alert-warning"],[3,"routerLink","click"],["role","alert",1,"mt-1","alert","alert-info"],["target","_blank",1,"btn","btn-link","btn-sm",3,"routerLink"],["aria-hidden","true",1,"fa","fa-eye","mr-1"],["formControlName","endDate","dateFormat","dd M yy","icon","fas fa-calendar-alt","appendTo","body",3,"showIcon","minDate","maxDate"],["formControlName","endReason",3,"options","autoDisplayFirst","group"],["pTemplate","group"],[1,"flex","align-items-center"],["pInputTextarea","","formControlName","notes"],[1,"row"],[1,"col-auto"],["accentLevel","warning","iconClasses","fa fa-door-open","tooltipMessage","When you change a talent's email, they are required to register again with their new email address. Their current password will be reset.",4,"ngIf"],[3,"initialValue","canCreateRoles","statusChanges","valueChanges",4,"ngIf"],["accentLevel","warning","iconClasses","fa fa-door-open","tooltipMessage","When you change a talent's email, they are required to register again with their new email address. Their current password will be reset."],[3,"initialValue","canCreateRoles","statusChanges","valueChanges"],[1,"col-12","col-md-6"],["aria-hidden","true",1,"fa","fa-briefcase"],["aria-hidden","true",1,"fa","fa-pencil-alt"],[3,"onSelectTalent"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary","ml-1",3,"click"],["aria-hidden","true",1,"fa","fa-check-circle"]],template:function(c,l){if(1&c&&(e.TgZ(0,"div",0)(1,"h4",1),e.YNc(2,z,2,0,"span",2),e.YNc(3,d,1,0,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(O){return l.onCloseModal.emit(O)}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div")(10,"h5"),e._uU(11,"Job:"),e.qZA(),e.TgZ(12,"h6",7),e._uU(13),e.qZA(),e.TgZ(14,"h6",8)(15,"small"),e._uU(16),e._UZ(17,"br"),e._uU(18),e.qZA()(),e.TgZ(19,"h6"),e._uU(20),e.qZA()(),e._UZ(21,"hr"),e.TgZ(22,"div"),e.YNc(23,oe,18,11,"form",9),e.qZA(),e.YNc(24,r,9,3,"div",10),e.qZA(),e.TgZ(25,"div",11)(26,"div",12)(27,"button",13),e.NdJ("click",function(O){return l.onCloseModal.emit(O)}),e._UZ(28,"i",14),e._uU(29," Cancel "),e.qZA(),e.TgZ(30,"button",15),e.NdJ("click",function(){return l.onSumbit.emit(l.getFormValue())}),e.YNc(31,S,3,0,"span",2),e.YNc(32,x,2,0,"ng-template",null,16,e.W1O),e.qZA()()(),e.YNc(34,G,17,0,"ng-template",null,17,e.W1O)),2&c){const M=e.MAs(4),O=e.MAs(33);e.xp6(2),e.Q6J("ngIf",l.addingEmployment)("ngIfElse",M),e.xp6(11),e.Oqu(null==l.forJob||null==l.forJob.position?null:l.forJob.position.name),e.xp6(3),e.hij(" ",null==l.forJob||null==l.forJob.position?null:l.forJob.position.area,""),e.xp6(2),e.hij(" ",null==l.forJob||null==l.forJob.position?null:l.forJob.position.department," "),e.xp6(2),e.Oqu(null==l.forJob||null==l.forJob.property?null:l.forJob.property.name),e.xp6(3),e.Q6J("ngIf",l.createEmploymentForm),e.xp6(1),e.Q6J("ngIf",l.talentHasAccount),e.xp6(6),e.Q6J("disabled",l.processing||(null==l.createEmploymentForm?null:l.createEmploymentForm.pristine)||(null==l.createEmploymentForm?null:l.createEmploymentForm.invalid)),e.xp6(1),e.Q6J("ngIf",l.addingEmployment)("ngIfElse",O)}},dependencies:[V,B.O5,D.rH,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,Y.Lt,k.jx,H.f,q.Hq,Q.o,j.g,K.g,W.s,E.p]})}return s})()},5609:(L,Z,i)=>{i.d(Z,{Z:()=>ae});var t=i(6895),e=i(433),h=i(2714),u=i(3035),p=i(2210),_=i(1740),y=i(3054),E=i(1571),f=i(1795),g=i(4489),A=i(4762),R=i(4538),D=i(1479),N=i(6951);let F=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=E.oAB({type:a}),a.\u0275inj=E.cJS({imports:[t.ez,f.T,g.n,A.u,R.x,D.L,N.q]}),a})();var $=i(7913),X=i(5973),ee=i(3113),te=i(2342),ne=i(420);let ie=(()=>{class a{static#e=this.\u0275fac=function(S){return new(S||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({imports:[t.ez,h.Bz,e.UX,ne.U$]})}return a})();var oe=i(3345);let ae=(()=>{class a{static#e=this.\u0275fac=function(S){return new(S||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({providers:[ee.p],imports:[ie,t.ez,h.Bz,e.UX,e.u5,p.kW,u._8,_.j,y.A,F,$.Iu,te.M,X.s,oe.k]})}return a})()},7182:(L,Z,i)=>{i.d(Z,{Q:()=>z});var t=i(1571),e=i(433),h=i(727),u=i(9147),p=i(625),_=i(527),y=i(3113),E=i(171),f=i(6895),g=i(2210),A=i(805),R=i(3035),D=i(3054),N=i(1507),k=i(2962);function w(d,b){1&d&&(t.TgZ(0,"div",16),t._UZ(1,"i",17),t._uU(2,"You cannot end this employment "),t.qZA())}function J(d,b){if(1&d&&(t.TgZ(0,"div",24)(1,"span"),t._uU(2),t.qZA()()),2&d){const o=b.$implicit;t.xp6(2),t.Oqu(o.label)}}function P(d,b){if(1&d&&(t.TgZ(0,"form",18)(1,"div",5)(2,"h6",6),t._uU(3,"Ended at:"),t.qZA(),t.TgZ(4,"div",19),t._UZ(5,"p-calendar",20),t.qZA()(),t.TgZ(6,"div",5)(7,"h6",6),t._uU(8,"End with status:"),t.qZA(),t.TgZ(9,"div",19)(10,"p-dropdown",21),t.YNc(11,J,3,1,"ng-template",22),t.qZA()()(),t.TgZ(12,"div",5)(13,"h6",6),t._uU(14,"Additional notes:"),t.qZA(),t.TgZ(15,"div",19),t._UZ(16,"textarea",23),t.qZA()()()),2&d){const o=t.oxw();t.Q6J("formGroup",o.editEmploymentForm),t.xp6(5),t.Q6J("showIcon",!0)("maxDate",o.today)("minDate",(null==o.employment?null:o.employment.from)||o.today),t.xp6(5),t.Q6J("options",o.endStatusOptions)("autoDisplayFirst",!1)("group",!0)}}function V(d,b){1&d&&t._UZ(0,"app-shared-icon-tooltip",28)}function B(d,b){if(1&d&&(t.TgZ(0,"div")(1,"div",25)(2,"div",29)(3,"h6"),t._uU(4,"Login email address"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"div",29)(8,"h6"),t._uU(9,"Keiro access level"),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"roleName"),t.qZA()()()()),2&d){const o=t.oxw(2);t.xp6(6),t.hij(" ",null==o.employment||null==o.employment.talent||null==o.employment.talent.account?null:o.employment.talent.account.email," "),t.xp6(5),t.Oqu(t.lcZ(12,2,null==o.employment||null==o.employment.talent||null==o.employment.talent.account?null:o.employment.talent.account.role))}}function Y(d,b){if(1&d){const o=t.EpF();t.TgZ(0,"div")(1,"keiro-account-form",31),t.NdJ("statusChanges",function(m){t.CHM(o);const I=t.oxw(3);return t.KtG(I.formStatusChange(m))})("valueChanges",function(m){t.CHM(o);const I=t.oxw(3);return t.KtG(I.formValueChange(m))}),t.qZA()()}if(2&d){const o=t.oxw(3);t.xp6(1),t.Q6J("initialValue",null==o.employment||null==o.employment.talent?null:o.employment.talent.account)("canCreateRoles",o.canCreateRoles)}}const H=function(d,b){return{"btn-primary":d,"btn-outline-primary":b}},q=function(d,b){return{"btn-danger":d,"btn-outline-danger":b}};function Q(d,b){if(1&d){const o=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(o);const m=t.oxw(3);return t.KtG(m.toggleRevoke(!1))}),t._UZ(2,"i",34),t._uU(3," Keep account "),t.qZA(),t.TgZ(4,"button",33),t.NdJ("click",function(){t.CHM(o);const m=t.oxw(3);return t.KtG(m.toggleRevoke(!0))}),t._UZ(5,"i",35),t._uU(6," Revoke account "),t.qZA()()}if(2&d){const o=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.WLB(2,H,!o.currentRevoke,o.currentRevoke)),t.xp6(3),t.Q6J("ngClass",t.WLB(5,q,o.currentRevoke,!o.currentRevoke))}}function j(d,b){if(1&d&&(t.TgZ(0,"div"),t.YNc(1,Y,2,2,"div",9),t.YNc(2,Q,7,8,"div",30),t.qZA()),2&d){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!o.showAccInfo),t.xp6(1),t.Q6J("ngIf",o.canEditAccount)}}function K(d,b){1&d&&(t.TgZ(0,"div",16),t._UZ(1,"i",36),t._uU(2,"The account for this talent will be revoked "),t.qZA())}function W(d,b){if(1&d&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"div",25)(3,"h5",26),t._uU(4,"Account info"),t.qZA(),t.YNc(5,V,1,0,"app-shared-icon-tooltip",27),t.qZA(),t.YNc(6,B,13,4,"div",9),t.YNc(7,j,3,2,"div",9),t.YNc(8,K,3,0,"div",7),t.qZA()),2&d){const o=t.oxw();t.xp6(5),t.Q6J("ngIf",!o.showAccInfo),t.xp6(1),t.Q6J("ngIf",o.showAccInfo),t.xp6(1),t.Q6J("ngIf",o.currentStatus!==(null==o.employment?null:o.employment.status)&&!o.isEmploymentEnding),t.xp6(1),t.Q6J("ngIf",o.isEmploymentEnding&&(null==o.editEmploymentForm?null:o.editEmploymentForm.dirty)&&o.canEditAccount)}}let z=(()=>{class d{constructor(o,C,m){this.fb=o,this.roleNamePipe=C,this.authStateService=m,this.onSumbit=new t.vpe,this.onCloseModal=new t.vpe,this.currentStatus=u.Vg.ACTIVE,this.showAccInfo=!0,this.isEmploymentEnding=!1,this.talentHasAccount=!1,this.canEditAccount=!1,this.formValid=!1,this.onlyRoleChange=!1,this._currentRevoke=!1,this.subscriptions=new h.w0,this.processing=!1,this.endStatusOptions=[{label:"Change of job",items:[u.Vg.CHANGE_PROMOTION,u.Vg.CHANGE_LATERAL_MOVEMENT,u.Vg.CHANGE_TRANSFER_SAME_POSITION,u.Vg.CHANGE_TRANSFER_PROMOTION].map(I=>({label:u.ub.statusNameMap.get(I),value:I}))},{label:"Voluntary dismissals",items:[u.Vg.DISMISSAL_VOLUNTARY_ABSENTEEISM,u.Vg.DISMISSAL_VOLUNTARY_ABANDONMENT,u.Vg.DISMISSAL_VOLUNTARY_RETIREMENT,u.Vg.DISMISSAL_VOLUNTARY_BETTER_OFFER,u.Vg.DISMISSAL_VOLUNTARY_PERSONAL].map(I=>({label:u.ub.statusNameMap.get(I),value:I}))},{label:"Forced dismissals",items:[u.Vg.DISMISSAL_FORCED_END_OF_CONTRACT,u.Vg.DISMISSAL_FORCED_DISEASE,u.Vg.DISMISSAL_FORCED_DEATH,u.Vg.DISMISSAL_FORCED_LOW_PERFORMANCE,u.Vg.DISMISSAL_FORCED_INAPROPIATE_BEHAVIORS,u.Vg.DISMISSAL_FORCED_OTHERS].map(I=>({label:u.ub.statusNameMap.get(I),value:I}))}],this.today=new Date,this.subscriptions.add(this.authStateService.authState.subscribe(I=>{this.currentUserIdentity=I.identity}))}set currentRevoke(o){this._currentRevoke=this.canEditAccount?o:this.currentRevoke,this.showAccInfo=this.isEmploymentEnding&&this.canEditAccount?this.isEmploymentEnding:this.currentRevoke,this.formValue=void 0}get currentRevoke(){return this._currentRevoke}formStatusChange(o){this.formValid="VALID"===o}formValueChange(o){this.onlyRoleChange=this.employment?.talent.account?.email===o.email&&this.employment?.talent.account?.role!=o.role,this.formValue=o}ngOnInit(){switch(this.editEmploymentForm=this.fb.group({newStatus:[u.Vg.ACTIVE,[_.d.valueInArray([...u.ub.changesReasons,...u.ub.allDismissalReasons]),e.kI.required]],endDate:[null,e.kI.required],notes:[null]}),this.talentHasAccount=!!this.employment?.talent.account,this.currentStatus=this.employment?.status?this.employment?.status:u.Vg.ACTIVE,this.currentUserIdentity?.role){case p.u.SUPER_ADMIN:case p.u.ADMIN:this.canCreateRoles=[p.u.ADMIN,p.u.MANAGER,p.u.EMPLOYEE],this.canEditAccount=!0;break;case p.u.MANAGER:this.canEditAccount=!0,this.employment?.talent?.account?.role===p.u.ADMIN&&(this.canEditAccount=!1),this.employment?.talent.account&&(this.canCreateRoles=[this.employment?.talent.account.role]);break;case p.u.EMPLOYEE:(this.employment?.talent?.account?.role===p.u.ADMIN||this.employment?.talent?.account?.role===p.u.MANAGER)&&(this.canEditAccount=!1)}this.currentUserIdentity?.talent?._id===this.employment?.talent?._id&&(this.canEditAccount=!1),this.onChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}onChanges(){this.editEmploymentForm?.valueChanges.subscribe(o=>{this.currentStatus=o.newStatus,this.isEmploymentEnding=u.ub.allDismissalReasons.includes(o.newStatus),this.currentStatus!==this.employment?.status&&this.canEditAccount&&(this.showAccInfo=this.isEmploymentEnding?this.isEmploymentEnding:this.currentRevoke)})}toggleRevoke(o){this.currentRevoke=o}getRoleOptions(){return Object.values(p.u).filter(o=>o!=p.u.SUPER_ADMIN).map(o=>({name:this.roleNamePipe.transform(o),value:o}))}canEndEmployment(){const o=this.talentHasAccount&&!this.canEditAccount;return o&&!1===this.editEmploymentForm?.disabled&&this.editEmploymentForm?.disable(),!o}getFormValue(){let o={employment:{newStatus:this.editEmploymentForm?.value.newStatus,until:this.editEmploymentForm?.value.endDate,...this.editEmploymentForm?.value.notes?{notes:this.editEmploymentForm?.value.notes}:{}}};if(this.talentHasAccount){let C={},m=this.isEmploymentEnding&&this.canEditAccount?this.isEmploymentEnding:this.currentRevoke;this.formValue&&!m&&(this.employment?.talent?.account?.email!==this.formValue.email&&(C.email=this.formValue.email),this.employment?.talent?.account?.role!==this.formValue.role&&(C.role=this.formValue.role),C.changeAcc=!(!C?.email&&!C?.role||m)),m&&(C.revokeAcc={talentId:this.employment.talent._id,email:this.employment.talent.account.email}),o.account=C,o.accountId=this.employment.talent.account._id}return o}static#e=this.\u0275fac=function(C){return new(C||d)(t.Y36(e.QS),t.Y36(y.p),t.Y36(E.V))};static#t=this.\u0275cmp=t.Xpm({type:d,selectors:[["team-end-employment-modal"]],inputs:{job:"job",employment:"employment"},outputs:{onSumbit:"onSumbit",onCloseModal:"onCloseModal"},decls:32,vars:11,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"my-2"],[1,"mb-0"],["class","mt-1 alert alert-warning","role","alert",4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[1,"btn","btn-secondary","ml-1",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-save"],["role","alert",1,"mt-1","alert","alert-warning"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-1"],[3,"formGroup"],[1,"p-fluid"],["formControlName","endDate","dateFormat","dd M yy","icon","fas fa-calendar-alt","appendTo","body",3,"showIcon","maxDate","minDate"],["formControlName","newStatus",3,"options","autoDisplayFirst","group"],["pTemplate","group"],["pInputTextarea","","formControlName","notes"],[1,"flex","align-items-center"],[1,"row"],[1,"col-auto"],["accentLevel","warning","iconClasses","fa fa-door-open","tooltipMessage","When you change a talent's email, they are required to register again with their new email address. Their current password will be reset.",4,"ngIf"],["accentLevel","warning","iconClasses","fa fa-door-open","tooltipMessage","When you change a talent's email, they are required to register again with their new email address. Their current password will be reset."],[1,"col-12","col-md-6"],["class","btn-group","role","group","aria-label","Toggle revoke",4,"ngIf"],[3,"initialValue","canCreateRoles","statusChanges","valueChanges"],["role","group","aria-label","Toggle revoke",1,"btn-group"],["type","button",1,"btn","btn-sm",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-door-open"],["aria-hidden","true",1,"fa","fa-door-closed"],["aria-hidden","true",1,"fa","fa-door-closed","mr-1"]],template:function(C,m){1&C&&(t.TgZ(0,"div",0)(1,"h4",1)(2,"span"),t._uU(3,"End employment"),t.qZA()(),t.TgZ(4,"button",2),t.NdJ("click",function(F){return m.onCloseModal.emit(F)}),t.TgZ(5,"span",3),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",4)(8,"h5",5),t._uU(9),t.qZA(),t.TgZ(10,"div",5)(11,"h6",6),t._uU(12,"Job title:"),t.qZA(),t.TgZ(13,"span"),t._uU(14),t.qZA()(),t.TgZ(15,"div",5)(16,"h6",6),t._uU(17,"Started at:"),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.ALo(20,"date"),t.qZA()(),t.YNc(21,w,3,0,"div",7),t.YNc(22,P,17,7,"form",8),t.YNc(23,W,9,4,"div",9),t.qZA(),t.TgZ(24,"div",10)(25,"div",11)(26,"button",12),t.NdJ("click",function(F){return m.onCloseModal.emit(F)}),t._UZ(27,"i",13),t._uU(28," Cancel "),t.qZA(),t.TgZ(29,"button",14),t.NdJ("click",function(){return m.onSumbit.emit(m.getFormValue())}),t._UZ(30,"i",15),t._uU(31," End employment "),t.qZA()()()),2&C&&(t.xp6(9),t.AsE("",null==m.employment||null==m.employment.talent||null==m.employment.talent.name?null:m.employment.talent.name.given," ",null==m.employment||null==m.employment.talent||null==m.employment.talent.name?null:m.employment.talent.name.last,""),t.xp6(5),t.Oqu(null==m.job||null==m.job.position?null:m.job.position.name),t.xp6(5),t.Oqu(t.xi3(20,8,null==m.employment?null:m.employment.from,"dd MMM yyyy")),t.xp6(2),t.Q6J("ngIf",!m.canEndEmployment()),t.xp6(1),t.Q6J("ngIf",m.editEmploymentForm),t.xp6(1),t.Q6J("ngIf",m.talentHasAccount),t.xp6(6),t.Q6J("disabled",m.processing||(null==m.editEmploymentForm?null:m.editEmploymentForm.pristine)||(null==m.editEmploymentForm?null:m.editEmploymentForm.invalid)))},dependencies:[f.mk,f.O5,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,g.Lt,A.jx,R.f,D.g,N.g,k.s,f.uU,y.p]})}return d})()},8283:(L,Z,i)=>{i.d(Z,{B:()=>_});var t=i(3905),e=i(4004),h=i(2340),u=i(1571),p=i(529);let _=(()=>{class y{constructor(f){this.http=f,this.serverUrl=h.N.v2apiServer}listAccounts(f,g,A,R){return(0,t.z)(this.http.post(this.serverUrl+"account/list",R,{params:{...f?{search:f}:{},...A?{page:A}:{},...g?{count:g}:{}}}).pipe(D=>D))}sendRegistrationReminder(f){return(0,t.z)(this.http.post(this.serverUrl+"account/remind-registration/"+f,{}).pipe((0,e.U)(g=>({account:g}))))}editAccount(f,g,A){return(0,t.z)(this.http.put(this.serverUrl+"account/"+f,{...g?{email:g}:{},...A?{role:A}:{}}).pipe((0,e.U)(R=>({account:R}))))}getAccount(f){return(0,t.z)(this.http.get(this.serverUrl+"account/"+f).pipe((0,e.U)(g=>({account:g}))))}static#e=this.\u0275fac=function(g){return new(g||y)(u.LFG(p.eN))};static#t=this.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},3054:(L,Z,i)=>{i.d(Z,{A:()=>p,g:()=>u});var t=i(1571),e=i(6895),h=i(433);let u=(()=>{class _{constructor(E,f,g,A){this.el=E,this.ngModel=f,this.control=g,this.cd=A,this.onResize=new t.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(E){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(E){this.autoResize&&this.resize(E)}onBlur(E){this.autoResize&&this.resize(E)}resize(E){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(E||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return _.\u0275fac=function(E){return new(E||_)(t.Y36(t.SBq),t.Y36(h.On,8),t.Y36(h.a5,8),t.Y36(t.sBO))},_.\u0275dir=t.lG2({type:_,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(E,f){1&E&&t.NdJ("input",function(A){return f.onInput(A)})("focus",function(A){return f.onFocus(A)})("blur",function(A){return f.onBlur(A)}),2&E&&t.ekj("p-filled",f.filled)("p-inputtextarea-resizable",f.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),_})(),p=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=t.oAB({type:_}),_.\u0275inj=t.cJS({imports:[e.ez]}),_})()}}]);