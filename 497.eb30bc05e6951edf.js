"use strict";(self.webpackChunkalasta_ui=self.webpackChunkalasta_ui||[]).push([[497],{2962:(S,R,s)=>{s.d(R,{s:()=>w});var o=s(1571),l=s(6895),C=s(2320);const y=function(c){return["badge","badge-pill",c]};let w=(()=>{class c{constructor(){this.accentLevel="",this.iconClasses="",this.tooltipMessage="",this.placement="auto"}ngOnInit(){}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-shared-icon-tooltip"]],inputs:{accentLevel:"accentLevel",iconClasses:"iconClasses",tooltipMessage:"tooltipMessage",placement:"placement"},decls:4,vars:6,consts:[[1,"it-icon-wrapper",3,"tooltip","placement"],[1,"it-one-to-one","it-aspect-ratio"],[1,"it-icon",3,"ngClass"],["aria-hidden","true",3,"ngClass"]],template:function(a,u){1&a&&(o.TgZ(0,"span",0),o._UZ(1,"div",1),o.TgZ(2,"div",2),o._UZ(3,"i",3),o.qZA()()),2&a&&(o.Q6J("tooltip",u.tooltipMessage)("placement",u.placement),o.xp6(2),o.Q6J("ngClass",o.VKq(4,y,"badge-"+u.accentLevel)),o.xp6(1),o.Q6J("ngClass",u.iconClasses))},dependencies:[l.mk,C.i9],styles:[".it-icon-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;width:1rem;vertical-align:text-bottom}.it-icon-wrapper[_ngcontent-%COMP%]   .it-one-to-one.it-aspect-ratio[_ngcontent-%COMP%]{padding-bottom:100%}.it-icon-wrapper[_ngcontent-%COMP%]   .it-icon[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:center}"]}),c})()},2497:(S,R,s)=>{s.r(R),s.d(R,{CreateReviewModule:()=>fe});var o=s(6895),l=s(433),C=s(9549),y=s(8635),w=s(4789),c=s(8816),f=s(4175),a=s(2306),u=s(5861),v=s(1831),m=s(727),T=s(2027),I=s(826),L=s(1658),Z=s(582),Y=s(9147),V=s(9559),A=s(625),e=s(1571),F=s(921),J=s(8254),B=s(4053),Q=s(171),G=s(2733),j=s(4954),k=s(2962);function K(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.removeInvalidRows())}),e._UZ(1,"i",13),e._uU(2,"Remove invalid entries "),e.qZA()}}function W(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),g=e.MAs(14);return e.KtG(r.saveTalents(g))}),e._UZ(1,"i",15),e._uU(2),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",0===t.talentsToReview.length||t.talentsToReview.length-t.invalidRowsNumber()-t.savedRowsNumber()==0),e.xp6(2),e.hij("Save Reviews (",t.talentsToReview.length-t.invalidRowsNumber()-t.savedRowsNumber(),") ")}}function H(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"p",20),e._uU(2,"No talents currently selected"),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.goToTalentFinder())}),e._uU(4,"Select talents in Talent Finder"),e.qZA()()}}function $(i,d){1&i&&(e.TgZ(0,"div",19)(1,"div",22)(2,"span",23),e._uU(3,"Loading..."),e.qZA()()())}function X(i,d){if(1&i&&(e.TgZ(0,"div",16),e.YNc(1,H,5,0,"div",17),e.YNc(2,$,4,0,"ng-template",null,18,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isLoading)("ngIfElse",t)}}function z(i,d){if(1&i&&(e.TgZ(0,"span",45),e._UZ(1,"app-shared-icon-tooltip",46),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.s9C("tooltipMessage",t.formGroup.errors.notSaved.message)}}function q(i,d){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,z,2,1,"span",44),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.formGroup.errors)}}function ee(i,d){1&i&&(e.TgZ(0,"span",47),e._UZ(1,"i",48),e._uU(2," Talent has not been assigned to the hierarchy "),e.qZA())}const te=function(i,d){return{"btn-outline-danger":i,"btn-danger":d}};function ie(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,g=e.oxw(2);return e.KtG(g.removeRow(r))}),e._UZ(1,"i",13),e._uU(2,"Remove entry "),e.qZA()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.Q6J("ngClass",e.WLB(1,te,!n.isInvalidForm(t),n.isInvalidForm(t)))}}function ne(i,d){if(1&i&&(e.TgZ(0,"span",51),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.formGroup.errors.notSaved.message," ")}}function se(i,d){if(1&i&&(e.TgZ(0,"span",31),e.YNc(1,ne,2,1,"span",50),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.formGroup.errors)}}const oe=function(i){return{"border-danger":i}},ae=function(i,d){return{"fa-chevron-up":i,"fa-chevron-down":d}},le=function(i){return["/","app","talent","view",i]};function re(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",5)(5,"button",32),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.KtG(g.formVisible=!g.formVisible)}),e.TgZ(6,"h6",33),e._UZ(7,"i",34),e.qZA()()(),e.TgZ(8,"div",4)(9,"h6",35),e._uU(10),e.qZA(),e.YNc(11,q,2,1,"span",36),e.TgZ(12,"span",37),e.YNc(13,ee,3,0,"span",38),e.qZA()(),e.TgZ(14,"div",39)(15,"a",40),e._uU(16," View talent "),e.qZA(),e.YNc(17,ie,3,4,"button",41),e.qZA()(),e.TgZ(18,"div",42),e.YNc(19,se,2,1,"span",43),e.qZA()()()()}if(2&i){const t=d.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(13,oe,t.formGroup.touched&&t.formGroup.errors)),e.xp6(4),e.Udp("font-size",100,"%"),e.xp6(2),e.Q6J("ngClass",e.WLB(15,ae,t.formVisible,!t.formVisible)),e.xp6(3),e.AsE("",t.talentInfo.talentName.given," ",t.talentInfo.talentName.last,""),e.xp6(1),e.Q6J("ngIf",!t.formVisible),e.xp6(2),e.Q6J("ngIf",!t.talentInfo.activeEmploymentId),e.xp6(2),e.Q6J("routerLink",e.VKq(18,le,t.talentInfo.talentId)),e.xp6(2),e.Q6J("ngIf",!t.saved),e.xp6(1),e.Q6J("collapse",!t.formVisible)("isAnimated",!0),e.xp6(1),e.Q6J("ngIf",t.formVisible)}}function ce(i,d){if(1&i&&(e.TgZ(0,"div",24)(1,"div",25)(2,"p",26),e._uU(3,"Currently adding reviews for the review cycle: "),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()(),e.YNc(9,re,20,20,"div",27),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(null==t.currentReviewCycle?null:t.currentReviewCycle.name),e.xp6(1),e.hij(" on ",t.today,"."),e.xp6(2),e.hij("The last day for adding reviews in the current cycle is: ",null==t.currentReviewCycle?null:t.currentReviewCycle.endDate,"."),e.xp6(1),e.Q6J("ngForOf",t.talentsToReview)}}function de(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"bulk-save-progress-modal",52),e.NdJ("close",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeProgressModal())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("progress",t.savingProgress)}}class pe{constructor(d,t,n,r,g,E){this.formVisible=!0,this.hasReview=!1,this.canAddReview=!1,this.isEmployed=!1,this.saved=!1,this.talentInfo=d,this.formGroup=t,this.hasReview=n,this.canAddReview=r,this.isEmployed=g,void 0!==E&&(this.assignedEvDefinition=E)}setReviewValues(){this.formGroup.markAllAsTouched(),this.formReviewValue={performanceScore:this.formGroup.get("performanceScore")?.value,potentialScore:this.formGroup.get("potentialScore")?.value}}}let ve=(()=>{class i{constructor(t,n,r,g,E,ge,_e,we,Re,Ce,xe){var p=this;this.router=t,this.fb=n,this.sessionStateService=r,this.store=g,this.talentMapBoxService=E,this.employmentService=ge,this.reviewService=_e,this.teamService=we,this.authStateService=Re,this.modalService=Ce,this.reviewCycleServiceApi=xe,this.today=new T.p,this.talentsToReview=[],this.talentsToReviewQueue=[],this.savingProgress=new Z.j(0),this.potentialRanges=[{value:1,display:"Low"},{value:2,display:"Medium"},{value:3,display:"High"}],this.reviewValidRanges={per:{min:0,max:0},pot:{min:0,max:0}},this.subscriptions=new m.w0,this.isLoading=!1,this.evaluationResponse={},this.evaluationDefinitionsList=[],this.talentManagement$=g.pipe((0,v.Ys)("talentManagementState")),this.getBoxesInfo(),this.subscriptions.add(this.authStateService.authState.subscribe(function(){var N=(0,u.Z)(function*(x){x.identity&&(p.currentUser=x.identity)});return function(x){return N.apply(this,arguments)}}())),this.subscriptions.add(this.talentManagement$.subscribe(function(){var N=(0,u.Z)(function*(x){if(x.selectedTalents.length>0&&(p.isLoading=!0),p.currentReviewCycle=(yield p.reviewCycleServiceApi.getCurrentReviewCycle()).reviewCycle,void 0!==p.currentReviewCycle){if(p.activeResponsibilities=yield p.teamService.getOwnActiveResponsibiliy(),x.selectedTalents.length>0){const ye=x.selectedTalents.map(D=>D.talentId);yield p.reviewService.obtainEvaluationDefinitionForTalents(ye).then(D=>{if(p.evaluationResponse=D,void 0!==p.evaluationResponse.employments&&p.evaluationResponse.employments?.length>0)for(const h of p.evaluationResponse.employments){let M,P,b=!0,O=!1,_=h.isEmployed;M={talentId:h.talent?._id,talentName:h.talent?.name,..._?{position:h.job?.position?.name}:{},..._?{positionId:h.job?.position?._id}:{},..._?{property:h.job?.property?.name}:{},..._?{propertyId:h.job?.property?._id}:{},..._&&!h.isLegacy?{activeEmploymentId:h._id}:{}},h.job?.position?.evaluationFormId&&(P=h.job?.position?.evaluationFormId),_&&(b=p.canAddReview(M.propertyId,M.talentId));let U=p.fb.group({performanceScore:[{value:null,disabled:!b||O||!_},[l.kI.required,L.d.isInteger(),l.kI.min(p.reviewValidRanges.per.min+1),l.kI.max(p.reviewValidRanges.per.max)]],potentialScore:[{value:null,disabled:!b||O||!_},[l.kI.required,L.d.isInteger(),l.kI.min(p.reviewValidRanges.pot.min),l.kI.max(p.reviewValidRanges.pot.max)]]});b?_||U.setErrors({notSaved:{message:"Cannot add review to this talent: Talent is not currently employed"}}):U.setErrors({notSaved:{message:"Cannot add review to this talent: You lack the permissions to add a review to this talent"}});let Te=new pe(M,U,O,b,_,P);p.talentsToReview.push(Te)}if(void 0!==p.evaluationResponse.evaluationDefinitions&&p.evaluationResponse.evaluationDefinitions?.length>0)for(const h of p.evaluationResponse.evaluationDefinitions)p.evaluationDefinitionsList.push(h.id)})}p.isLoading=!1}else alert("Seems there is no active review cycle.")});return function(x){return N.apply(this,arguments)}}()))}ngOnDestroy(){this.store.dispatch((0,I.XA)()),this.subscriptions.unsubscribe()}isInvalidForm(t){return t.hasReview||!t.canAddReview||!t.isEmployed}canSaveReview(t){return!t.saved&&!this.isInvalidForm(t)}canAddReview(t,n){let r=this.activeResponsibilities?.activeJob?this.activeResponsibilities?.activeJob.property._id:this.currentUser?.talent?.location;switch(this.currentUser?.role){case A.u.SUPER_ADMIN:case A.u.ADMIN:return!0;case A.u.MANAGER:return r===t;case A.u.EMPLOYEE:return r===t&&this.currentUser.id!==n;default:return!1}}invalidRowsNumber(){return this.talentsToReview.filter(t=>this.isInvalidForm(t)).length}savedRowsNumber(){return this.talentsToReview.filter(t=>t.saved).length}isFormError(t,n){const r=n.formGroup.get(t);return!r?.pristine&&!r?.valid}prettifyError(t){return t?t.required?"Required":t.min||t.max?"Invalid":t.notNumeric?"Not number":t.notInteger?"Contains decimal":"":""}goToTalentFinder(){this.router.navigate(["app","talent","finder"])}removeRow(t){this.sessionStateService.registerActivity();const n=this.talentsToReview.indexOf(t);this.talentsToReview.splice(n,1)}removeInvalidRows(){this.talentsToReview=this.talentsToReview.filter(t=>t.canAddReview&&!t.hasReview&&t.isEmployed)}saveNextTalent(){if(0==this.talentsToReviewQueue.length)return void(this.talentsToReviewQueue=[]);const t=this.talentsToReviewQueue.shift();let n=this.talentsToReview.findIndex(r=>r.talentInfo.talentId===t?.talentInfo.talentId);void 0!==t&&(t.formGroup.valid&&this.currentReviewCycle?this.saveValidReview(t,this.currentReviewCycle._id).then(()=>{this.savingProgress.incrementSuccessful(),this.talentsToReview[n].formGroup.disable(),this.talentsToReview[n].formVisible=!1,this.talentsToReview[n].formGroup.setErrors(null),this.talentsToReview[n].saved=!0,this.saveNextTalent()}).catch(r=>{this.savingProgress.incrementFailed(),this.talentsToReview[n].formGroup.setErrors({notSaved:{message:r.message.message}}),this.saveNextTalent()}):(this.savingProgress.incrementFailed(),this.talentsToReview[n].formGroup.setErrors({notSaved:{message:"This form is invalid or hasn't been completed"}}),this.saveNextTalent()))}saveValidReview(t,n){let r={potential:t.formReviewValue?.potentialScore,performance:t.formReviewValue?.performanceScore,date:this.today.date,reviewCycle:n,talent:t.talentInfo.talentId,...t.talentInfo.activeEmploymentId?{employment:t.talentInfo.activeEmploymentId}:{}};return this.reviewService.addTalentReview(r)}getBoxesInfo(){this.talentMapBoxService.getBoxes().then(t=>{t.boxes.length>0&&(this.reviewValidRanges={per:{max:t.boxes.find(n=>8===n.pos)?.perRng.high||100,min:t.boxes.find(n=>0===n.pos)?.perRng.low||0},pot:{max:t.boxes.find(n=>0===n.pos)?.potRng.high||3,min:t.boxes.find(n=>8===n.pos)?.potRng.low||0}})})}saveTalents(t){this.sessionStateService.registerActivity(),this.talentsToReviewQueue=this.talentsToReview.filter(n=>this.canSaveReview(n)).map(n=>(n.setReviewValues(),n)),this.savingProgress=new Z.j(this.talentsToReviewQueue.length),this.modalService.openModal(t,{ignoreBackdropClick:!0,keyboard:!1}),this.saveNextTalent()}closeProgressModal(){this.sessionStateService.registerActivity(),this.modalService.closeUpperModal()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(w.F0),e.Y36(l.QS),e.Y36(F.W),e.Y36(v.yh),e.Y36(J.M),e.Y36(Y.Ib),e.Y36(V.f),e.Y36(B.U),e.Y36(Q.V),e.Y36(G.l),e.Y36(j.m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-review"]],decls:15,vars:4,consts:[[1,"animated","fadeIn"],[1,"card"],[1,"card-body"],[1,"form-row","mb-2"],[1,"col"],[1,"col-auto"],["class","btn btn-block btn-danger","title","Remove invalid entries",3,"click",4,"ngIf"],[1,"col-auto","col-sm-4"],["class","btn btn-block btn-success","title","Save reviews for talents",3,"disabled","click",4,"ngIf"],["class","row",4,"ngIf"],["class","row px-3",4,"ngIf"],["savingInProcessModal",""],["title","Remove invalid entries",1,"btn","btn-block","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-minus","mr-1"],["title","Save reviews for talents",1,"btn","btn-block","btn-success",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-paper-plane","mr-1"],[1,"row"],["class","col text-center",4,"ngIf","ngIfElse"],["loadingMessage",""],[1,"col","text-center"],[1,"mb-1"],[1,"btn","btn-block","btn-primary",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"row","px-3"],["role","alert",1,"col-12","alert","alert-info"],[1,"py-2","m-0"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"row","align-items-center","border","border-secondary","shadow-sm","rounded","py-2","my-1",3,"ngClass"],[1,"col","my-2"],[1,"form-row"],[1,"btn","btn-light","rounded-pill","text-center",3,"click"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-inline"],[4,"ngIf"],[1,"ml-3"],["class","mx-1 ml-2 text-warning",4,"ngIf"],[1,"col-12","col-sm-auto","text-right"],["target","_blank",1,"btn","btn-link",3,"routerLink"],["title","Remove this entry","class","btn btn-sm",3,"ngClass","click",4,"ngIf"],[1,"pt-2",3,"collapse","isAnimated"],["class","form-row",4,"ngIf"],["class","mx-1",4,"ngIf"],[1,"mx-1"],["accentLevel","danger","iconClasses","fa fa-exclamation-circle",3,"tooltipMessage"],[1,"mx-1","ml-2","text-warning"],["aria-hidden","true",1,"fa","fa-info-circle","mr-1","text-warning"],["title","Remove this entry",1,"btn","btn-sm",3,"ngClass","click"],["class","mt-3 text-danger",4,"ngIf"],[1,"mt-3","text-danger"],["savingResource","review",3,"progress","close"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4"),e._uU(6,"Add Reviews"),e.qZA()(),e.TgZ(7,"div",5),e.YNc(8,K,3,0,"button",6),e.qZA(),e.TgZ(9,"div",7),e.YNc(10,W,3,2,"button",8),e.qZA()(),e.YNc(11,X,4,2,"div",9),e.YNc(12,ce,10,4,"div",10),e.qZA()()(),e.YNc(13,de,1,1,"ng-template",null,11,e.W1O)),2&t&&(e.xp6(8),e.Q6J("ngIf",n.invalidRowsNumber()>0),e.xp6(2),e.Q6J("ngIf",n.talentsToReview.length),e.xp6(1),e.Q6J("ngIf",!n.talentsToReview.length),e.xp6(1),e.Q6J("ngIf",n.talentsToReview.length))},dependencies:[w.yS,o.mk,o.sg,o.O5,c.Y,Z.n,k.s],encapsulation:2}),i})();var ue=s(1740),me=s(2210),he=s(3345);let fe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[w.Bz.forChild([{path:"",component:ve}]),o.ez,l.UX,C.lN,y.LD,f.HC.forRoot(),c.f,ue.j,me.kW,a.t,he.k]}),i})()},8816:(S,R,s)=>{s.d(R,{Y:()=>c,f:()=>f});var o=s(7340),l=s(1571);const C="400ms cubic-bezier(0.4,0.0,0.2,1)",y=[(0,o.oB)({height:0,visibility:"hidden"}),(0,o.jt)(C,(0,o.oB)({height:"*",visibility:"visible"}))],w=[(0,o.oB)({height:"*",visibility:"visible"}),(0,o.jt)(C,(0,o.oB)({height:0,visibility:"hidden"}))];let c=(()=>{class a{constructor(v,m,T){this._el=v,this._renderer=m,this.collapsed=new l.vpe,this.collapses=new l.vpe,this.expanded=new l.vpe,this.expands=new l.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=T.build(w),this._factoryExpandAnimation=T.build(y)}set display(v){this._display=v,"none"!==v?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(v){this.collapseNewValue=v,(!this._player||this._isAnimationDone)&&(this.isExpanded=v,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(v,m){if(!v||!this._stylesLoaded)return I=>I();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const T=m===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=T.create(this._el.nativeElement),this._player.play(),I=>this._player?.onDone(I)}}return a.\u0275fac=function(v){return new(v||a)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(o._j))},a.\u0275dir=l.lG2({type:a,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(v,m){2&v&&(l.uIk("aria-hidden",m.isCollapsed),l.ekj("collapse",m.isCollapse)("in",m.isExpanded)("show",m.isExpanded)("collapsing",m.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),a})(),f=(()=>{class a{static forRoot(){return{ngModule:a,providers:[]}}}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=l.oAB({type:a}),a.\u0275inj=l.cJS({}),a})()},1740:(S,R,s)=>{s.d(R,{j:()=>w,o:()=>y});var o=s(1571),l=s(6895),C=s(433);let y=(()=>{class c{constructor(a,u,v){this.el=a,this.ngModel=u,this.cd=v}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(a){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return c.\u0275fac=function(a){return new(a||c)(o.Y36(o.SBq),o.Y36(C.On,8),o.Y36(o.sBO))},c.\u0275dir=o.lG2({type:c,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(a,u){1&a&&o.NdJ("input",function(m){return u.onInput(m)}),2&a&&o.ekj("p-filled",u.filled)}}),c})(),w=(()=>{class c{}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=o.oAB({type:c}),c.\u0275inj=o.cJS({imports:[l.ez]}),c})()}}]);