"use strict";(self.webpackChunkalasta_ui=self.webpackChunkalasta_ui||[]).push([[933],{5303:(D,p,o)=>{o.d(p,{e:()=>f});var t=o(1571),i=o(433),d=o(727),u=o(8372),m=o(6895),_=o(2210),l=o(805),h=o(3035);function g(s,r){if(1&s&&(t.TgZ(0,"h6",14),t._uU(1),t.qZA(),t.TgZ(2,"h6",15)(3,"small"),t._uU(4),t._UZ(5,"br"),t._uU(6),t.qZA()()),2&s){const n=r.$implicit;t.xp6(1),t.Oqu(n.name),t.xp6(3),t.hij(" ",n.department,""),t.xp6(2),t.hij(" ",n.area," ")}}function c(s,r){1&s&&t._uU(0,"Could not find a position with that name, please contact your Keiro admin if you'd like to create it.")}function E(s,r){if(1&s&&(t.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),t._uU(5,"Property *"),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"p-dropdown",7),t.qZA()()(),t.TgZ(8,"div",8)(9,"div",4)(10,"label",5),t._uU(11,"Position *"),t.qZA(),t.TgZ(12,"div",6)(13,"p-dropdown",9),t.YNc(14,g,7,3,"ng-template",10),t.YNc(15,c,1,0,"ng-template",11),t.qZA()()()(),t.TgZ(16,"div",12)(17,"div",4)(18,"label",5),t._uU(19,"Start date *"),t.qZA(),t.TgZ(20,"div",6),t._UZ(21,"p-calendar",13),t.qZA()()()()()),2&s){const n=t.oxw();t.Q6J("formGroup",n.addLegacyWorkInfoForm),t.xp6(7),t.Q6J("filter",!0)("options",n.propertyOptions)("autoDisplayFirst",!1),t.xp6(6),t.Q6J("filter",!0)("options",n.positionOptions)("autoDisplayFirst",!1),t.xp6(8),t.Q6J("showIcon",!0)("maxDate",n.today)}}let f=(()=>{class s{constructor(n){this.fb=n,this.positionOptions=[],this.propertyOptions=[],this.valueChanges=new t.vpe,this.statusChanges=new t.vpe,this.today=new Date,this.subscriptions=new d.w0,this.subscriptions.add(this.touchForm?.subscribe(()=>{this.addLegacyWorkInfoForm?.markAllAsTouched(),Object.keys(this.addLegacyWorkInfoForm.controls).forEach(a=>{this.addLegacyWorkInfoForm.get(a)?.markAsDirty()})}))}set disabled(n){n?this.addLegacyWorkInfoForm?.disable():this.addLegacyWorkInfoForm?.enable()}ngOnInit(){this.initializeForm()}ngOnDestroy(){this.subscriptions.unsubscribe()}initializeForm(){this.addLegacyWorkInfoForm=this.fb.group({position:[null,i.kI.required],property:[null,i.kI.required],startDate:[null,i.kI.required]}),this.subscriptions.add(this.addLegacyWorkInfoForm.statusChanges.subscribe(n=>{this.statusChanges.emit(n)})),this.subscriptions.add(this.addLegacyWorkInfoForm.valueChanges.pipe((0,u.b)(350)).subscribe(n=>{this.valueChanges.emit(this.getFormValue())}))}getFormValue(){return{positionId:this.addLegacyWorkInfoForm?.value.position,propertyId:this.addLegacyWorkInfoForm?.value.property,startDate:this.addLegacyWorkInfoForm?.value.startDate}}static#t=this.\u0275fac=function(a){return new(a||s)(t.Y36(i.QS))};static#a=this.\u0275cmp=t.Xpm({type:s,selectors:[["employment-forms-add-legacy-work"]],inputs:{positionOptions:"positionOptions",propertyOptions:"propertyOptions",touchForm:"touchForm",disabled:"disabled"},outputs:{valueChanges:"valueChanges",statusChanges:"statusChanges"},decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"form-row","align-items-start"],[1,"col-12","col-sm-7","col-md-5","col-lg-5"],[1,"field","my-2"],[1,"block","mb-0"],[1,"p-fluid"],["formControlName","property","optionLabel","name","optionValue","_id",3,"filter","options","autoDisplayFirst"],[1,"col-12","col-sm-5","col-md-3","col-lg-4"],["formControlName","position","optionLabel","name","optionValue","_id",3,"filter","options","autoDisplayFirst"],["pTemplate","item"],["pTemplate","empty"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],["formControlName","startDate","dateFormat","dd M yy","icon","fas fa-calendar-alt",3,"showIcon","maxDate"],[1,"mb-0"],[1,"mb-1"]],template:function(a,e){1&a&&t.YNc(0,E,22,9,"form",0),2&a&&t.Q6J("ngIf",e.addLegacyWorkInfoForm)},dependencies:[m.O5,i._Y,i.JJ,i.JL,i.sg,i.u,_.Lt,l.jx,h.f]})}return s})()},3920:(D,p,o)=>{o.d(p,{y:()=>_});var t=o(6895),i=o(433),d=o(2210),u=o(3035),m=o(1571);let _=(()=>{class l{static#t=this.\u0275fac=function(c){return new(c||l)};static#a=this.\u0275mod=m.oAB({type:l});static#o=this.\u0275inj=m.cJS({imports:[t.ez,i.UX,d.kW,u._8]})}return l})()},549:(D,p,o)=>{o.d(p,{V:()=>s});var t=o(1571),i=o(433),d=o(727),u=o(8372),m=o(6895),_=o(3035),l=o(8816),h=o(2210),g=o(5722),c=o(7913),E=o(1740);function f(r,n){if(1&r){const a=t.EpF();t.TgZ(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),t._uU(5,"Last names *"),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"input",7),t.qZA(),t.TgZ(8,"small",8),t._uU(9),t.qZA()()(),t.TgZ(10,"div",9)(11,"div",4)(12,"label",10),t._uU(13,"First names *"),t.qZA(),t.TgZ(14,"div",6),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"small",12),t._uU(17),t.qZA()()(),t.TgZ(18,"div",13)(19,"div",4)(20,"label",14),t._uU(21,"Date of birth *"),t.qZA(),t.TgZ(22,"div",6)(23,"p-calendar",15,16),t.NdJ("onShow",function(){t.CHM(a);const v=t.MAs(24),I=t.oxw();return t.KtG(I.prepareCalenderView(v))}),t.qZA()(),t.TgZ(25,"small",17),t._uU(26),t.qZA()()(),t.TgZ(27,"div",18)(28,"div",4)(29,"label",19),t._uU(30,"Nationality *"),t.qZA(),t.TgZ(31,"div",6),t._UZ(32,"p-dropdown",20),t.qZA(),t.TgZ(33,"small",21),t._uU(34),t.qZA()()(),t.TgZ(35,"div",18)(36,"div",4)(37,"label",22),t._uU(38,"Languages *"),t.qZA(),t.TgZ(39,"div",6),t._UZ(40,"p-multiSelect",23),t.qZA(),t.TgZ(41,"small",24),t._uU(42),t.qZA()()(),t.TgZ(43,"div",18)(44,"div",4)(45,"label",25),t._uU(46,"Available for relocation? *"),t.qZA(),t.TgZ(47,"div",26),t._UZ(48,"p-inputSwitch",27),t.qZA(),t.TgZ(49,"small",28),t._uU(50),t.qZA()()()()()}if(2&r){const a=t.oxw();t.Q6J("formGroup",a.talentFormGroup),t.xp6(8),t.Q6J("collapse",!a.isFormError("lastNames"))("isAnimated",!0),t.xp6(1),t.hij(" ",a.prettifyError("lastNames")," "),t.xp6(7),t.Q6J("collapse",!a.isFormError("firstNames"))("isAnimated",!0),t.xp6(1),t.hij(" ",a.prettifyError("firstNames")," "),t.xp6(6),t.Q6J("showIcon",!0)("minDate",a.minDate)("maxDate",a.today),t.xp6(2),t.Q6J("collapse",!a.isFormError("dobDate"))("isAnimated",!0),t.xp6(1),t.hij(" ",a.prettifyError("dobDate")," "),t.xp6(6),t.Q6J("autoDisplayFirst",!1)("filter",!0)("options",a._nationalityOptions),t.xp6(1),t.Q6J("collapse",!a.isFormError("nationality"))("isAnimated",!0),t.xp6(1),t.hij(" ",a.prettifyError("nationality")," "),t.xp6(6),t.Q6J("options",a._languageOptions),t.xp6(1),t.Q6J("collapse",!a.isFormError("languages"))("isAnimated",!0),t.xp6(1),t.hij(" ",a.prettifyError("languages")," "),t.xp6(7),t.Q6J("collapse",!a.isFormError("mobility"))("isAnimated",!0),t.xp6(1),t.hij(" ",a.prettifyError("mobility")," ")}}let s=(()=>{class r{constructor(a){this.fb=a,this._nationalityOptions=[],this._languageOptions=[],this.canManageAccounts=!1,this.valueChanges=new t.vpe,this.statusChanges=new t.vpe,this.showAlastaAccountSection=!1,this.minDate=new Date("1/1/1910"),this.today=new Date,this.subscriptions=new d.w0}set allNationalities(a){this._nationalityOptions=a.map(e=>({name:e,value:e}))}set allLanguages(a){this._languageOptions=a.map(e=>({name:e,value:e}))}set disabled(a){a?this.talentFormGroup?.disable():this.talentFormGroup?.enable()}ngOnInit(){this.initializeForm(),this.subscriptions.add(this.touchForm?.subscribe(()=>{this.talentFormGroup?.markAllAsTouched(),Object.keys(this.talentFormGroup.controls).forEach(a=>{this.talentFormGroup.get(a)?.markAsDirty()})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}initializeForm(){this.talentFormGroup=this.fb.group({firstNames:[this.initialValue?.firstNames||null,[i.kI.required,i.kI.minLength(2),i.kI.maxLength(100)]],lastNames:[this.initialValue?.lastNames||null,[i.kI.required,i.kI.minLength(2),i.kI.maxLength(100)]],nationality:[this.initialValue?.nationality||null,[i.kI.required]],dobDate:[this.initialValue?.dobDate||null,[i.kI.required]],mobility:[this.initialValue?.mobility||!1,[i.kI.required]],languages:[this.initialValue?.languages||null,[i.kI.required]]}),this.subscriptions.add(this.talentFormGroup.statusChanges.subscribe(a=>{this.statusChanges.emit(a)})),this.subscriptions.add(this.talentFormGroup.valueChanges.pipe((0,u.b)(350)).subscribe(a=>{this.valueChanges.emit(a)}))}prepareCalenderView(a){a.switchToYearView(new Event("")),!a.value&&(a.decrementDecade(),a.decrementDecade())}isFormError(a){const e=this.talentFormGroup?.get(a);return!e?.pristine&&!e?.valid}prettifyError(a){const e=this.talentFormGroup?.get(a)?.errors;return e?e.required?"Required":e.min||e.max?"Invalid":e.notInteger||e.notNumeric?"Not number":e.valueNotInOptions?"Unknown value":e.email?"Not valid email address":e.emailInUse?e.associatedName?`Email address already in use by ${e.associatedName}`:"Email address already in use":e.minlength||e.maxlength?"Invalid length":e.matDatepickerMin||e.matDatepickerMax?"Invalid date":e.allOrNothing?"Incomplete work information":"":""}static#t=this.\u0275fac=function(e){return new(e||r)(t.Y36(i.QS))};static#a=this.\u0275cmp=t.Xpm({type:r,selectors:[["talent-form"]],inputs:{touchForm:"touchForm",initialValue:"initialValue",allNationalities:"allNationalities",allLanguages:"allLanguages",disabled:"disabled",canManageAccounts:"canManageAccounts",canCreateRoles:"canCreateRoles"},outputs:{valueChanges:"valueChanges",statusChanges:"statusChanges"},decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"form-row","align-items-start"],[1,"col-12","col-sm-7","col-md-5","col-lg-5"],[1,"field","my-2"],["for","lastNameInput",1,"block","mb-0"],[1,"p-fluid"],["pInputText","","formControlName","lastNames","id","lastNameInput","name","lastNames","aria-describedby","lastNamesInvalid","autocomplete","off","type","text"],["id","lastNamesInvalid",1,"p-error","block",3,"collapse","isAnimated"],[1,"col-12","col-sm-5","col-md-3","col-lg-4"],["for","firstNamesInput",1,"block","mb-0"],["pInputText","","formControlName","firstNames","id","firstNamesInput","name","firstNames","aria-describedby","firstNamesInvalid","autocomplete","off","type","text"],["id","firstNamesInvalid",1,"p-error","block",3,"collapse","isAnimated"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],["for","dobDateInput",1,"block","mb-0"],["formControlName","dobDate","dateFormat","dd M yy","icon","fas fa-calendar-alt","placeholder","","autocomplete","off","type","text",3,"showIcon","minDate","maxDate","onShow"],["dobCalendar",""],["id","dobDateInvalid",1,"p-error","block",3,"collapse","isAnimated"],[1,"col-12","col-sm-6","col-md-4"],["for","nationalityInput",1,"block","mb-0"],["formControlName","nationality","optionLabel","name","optionValue","value",3,"autoDisplayFirst","filter","options"],["id","nationalityInvalid",1,"p-error","block",3,"collapse","isAnimated"],["for","languagesInput",1,"block","mb-0"],["formControlName","languages","optionLabel","name","optionValue","value",3,"options"],["id","languagesInvalid",1,"p-error","block",3,"collapse","isAnimated"],["for","mobilityInput",1,"block","align-top","mb-0","mr-1"],[1,"block"],["formControlName","mobility"],["id","mobilityInvalid",1,"p-error","block",3,"collapse","isAnimated"]],template:function(e,v){1&e&&t.YNc(0,f,51,26,"form",0),2&e&&t.Q6J("ngIf",v.talentFormGroup)},dependencies:[m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.f,l.Y,h.Lt,g.NU,c.Ql,E.o]})}return r})()},8099:(D,p,o)=>{o.d(p,{B:()=>s});var t=o(6895),i=o(1740),d=o(433),u=o(8816),m=o(3035),_=o(5722),l=o(2210),h=o(7913),g=o(613),c=o(3345),E=o(5973),f=o(1571);let s=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#a=this.\u0275mod=f.oAB({type:r});static#o=this.\u0275inj=f.cJS({imports:[t.ez,d.UX,m._8,u.f,l.kW,_.q4,h.Iu,g.cc,i.j,c.k,E.s]})}return r})()}}]);